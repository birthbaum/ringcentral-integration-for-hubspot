!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=61)}([function(t,e,n){var o=n(16);t.exports=function(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var o=n(7),r=n(21),s=n(22),i="[object Null]",a="[object Undefined]",c=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:i:c&&c in Object(t)?r(t):s(t)}},function(t,e,n){var o=n(11)(Object,"create");t.exports=o},function(t,e,n){var o=n(42);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},function(t,e,n){var o=n(48);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var o=n(2),r=n(9),s="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&o(t)==s}},function(t,e,n){var o=n(8).Symbol;t.exports=o},function(t,e,n){var o=n(19),r="object"==typeof self&&self&&self.Object===Object&&self,s=o||r||Function("return this")();t.exports=s},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var o=n(2),r=n(12),s="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=o(t);return e==i||e==a||e==s||e==c}},function(t,e,n){var o=n(30),r=n(34);t.exports=function(t,e){var n=r(t,e);return o(n)?n:void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var o=n(2),r=n(1),s=n(9),i="[object String]";t.exports=function(t){return"string"==typeof t||!r(t)&&s(t)&&o(t)==i}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var o=n(2),r=n(56),s=n(9),i="[object Object]",a=Function.prototype,c=Object.prototype,u=a.toString,l=c.hasOwnProperty,d=u.call(Object);t.exports=function(t){if(!s(t)||o(t)!=i)return!1;var e=r(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},function(t,e,n){var o=n(17),r=n(55);t.exports=function(t,e){for(var n=0,s=(e=o(e,t)).length;null!=t&&n<s;)t=t[r(e[n++])];return n&&n==s?t:void 0}},function(t,e,n){var o=n(1),r=n(18),s=n(23),i=n(52);t.exports=function(t,e){return o(t)?t:r(t,e)?[t]:s(i(t))}},function(t,e,n){var o=n(1),r=n(6),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||(i.test(t)||!s.test(t)||null!=e&&t in Object(e))}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(20))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(7),r=Object.prototype,s=r.hasOwnProperty,i=r.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var o=!0}catch(t){}var r=i.call(t);return o&&(e?t[a]=n:delete t[a]),r}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var o=n(24),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=o((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,o,r){e.push(o?r.replace(s,"$1"):n||t)})),e}));t.exports=i},function(t,e,n){var o=n(25),r=500;t.exports=function(t){var e=o(t,(function(t){return n.size===r&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var o=n(26),r="Expected a function";function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],s=n.cache;if(s.has(r))return s.get(r);var i=t.apply(this,o);return n.cache=s.set(r,i)||s,i};return n.cache=new(s.Cache||o),n}s.Cache=o,t.exports=s},function(t,e,n){var o=n(27),r=n(47),s=n(49),i=n(50),a=n(51);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=i,c.prototype.set=a,t.exports=c},function(t,e,n){var o=n(28),r=n(39),s=n(46);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(s||r),string:new o}}},function(t,e,n){var o=n(29),r=n(35),s=n(36),i=n(37),a=n(38);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=i,c.prototype.set=a,t.exports=c},function(t,e,n){var o=n(3);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e,n){var o=n(10),r=n(31),s=n(12),i=n(33),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||r(t))&&(o(t)?p:a).test(i(t))}},function(t,e,n){var o,r=n(32),s=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!s&&s in t}},function(t,e,n){var o=n(8)["__core-js_shared__"];t.exports=o},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var o=n(3),r="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return n===r?void 0:n}return s.call(e,t)?e[t]:void 0}},function(t,e,n){var o=n(3),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var o=n(3),r="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?r:e,this}},function(t,e,n){var o=n(40),r=n(41),s=n(43),i=n(44),a=n(45);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=i,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var o=n(4),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():r.call(e,n,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var o=n(4);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var o=n(4);t.exports=function(t){return o(this.__data__,t)>-1}},function(t,e,n){var o=n(4);t.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var o=n(11)(n(8),"Map");t.exports=o},function(t,e,n){var o=n(5);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var o=n(5);t.exports=function(t){return o(this,t).get(t)}},function(t,e,n){var o=n(5);t.exports=function(t){return o(this,t).has(t)}},function(t,e,n){var o=n(5);t.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var o=n(53);t.exports=function(t){return null==t?"":o(t)}},function(t,e,n){var o=n(7),r=n(54),s=n(1),i=n(6),a=1/0,c=o?o.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return r(e,t)+"";if(i(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}},function(t,e,n){var o=n(6),r=1/0;t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},function(t,e,n){var o=n(57)(Object.getPrototypeOf,Object);t.exports=o},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},,,,function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o);const s="0.0.1";function i(t){const e={};return t.forEach(t=>{e[t]=t}),e}const a=i(["CALL_ANSWERED","CALL_COMPLETED","CALL_DATA","CALL_ENDED","DIAL_NUMBER","SET_CALL_STATE","END_CALL","ERROR","INCOMING_CALL","INITIALIZED","LOGGED_IN","LOGGED_OUT","OUTGOING_CALL_STARTED","READY","SET_WIDGET_URL","RESIZE_WIDGET","SYNC","SYNC_ACK","UNLOADING","VISIBILITY_CHANGED","SYNC_ACK_FAILED"]),c=i(["UNKNOWN_MESSAGE_TYPE","GENERIC"]);class u{constructor(t){this.options=t;const{iFrameOptions:e,onMessageHandler:n,debugMode:o}=t;if(this.onMessageHandler=n,!this.onMessageHandler)throw new Error("Invalid options: onMessageHandler is not defined");this.isIFrameHost=!!e,this.debugMode=o,this.callbacks={},this.instanceId=Date.now(),this.instanceRegexp=new RegExp(`^${this.instanceId}`),this.isReady=!1,this.messageHandler=t=>this.onMessage(t),window.addEventListener("message",this.messageHandler),e&&(this.iFrame=u.createIFrame(e,()=>{this.firstSyncSent=Date.now(),this.isReady=!1,this.sendSync()})),this.destinationWindow=e?this.iFrame.contentWindow:window.parent,this.destinationHost=u.getDestinationHost(e)}static createMessageId(t){return`${t}_${Date.now()}`}static getHostElement(t){const e=document.querySelector(t);if(!e)throw new Error(`hostElement not found. Selector - ${t}`);return e}static extractHostFromUrl(t){const e=document.createElement("a");return e.href=t,`${e.protocol}//${e.host}`}static getDestinationHost(t){const e=t?t.src:document.referrer;return u.extractHostFromUrl(e)}static createIFrame(t,e){const{src:n,width:o,height:r,hostElementSelector:s}=t;if(!(n&&o&&r&&s))throw new Error("iFrameOptions is missing one of the required properties - {src, width, height, hostElementSelector}.");const i=document.createElement("iFrame");i.onload=e,i.onerror=this.handleLoadError,i.src=n,i.width=o,i.height=r,i.allow="microphone; autoplay",i.id="hubspot-calling-extension-iframe";const a=u.getHostElement(s);return a.innerHTML="",a.appendChild(i),a.querySelector("iFrame")}handleLoadError(){this.onMessageHandler({type:a.SYNC_ACK_FAILED})}updateIFrameSize(t){const{width:e,height:n}=t,o=t=>"number"==typeof t?`${t}px`:t;e&&this.iFrame.setAttribute("width",o(e)),n&&this.iFrame.setAttribute("height",o(n))}onReady(){this.isReady=!0,this.onMessageHandler({type:a.READY})}remove(){if(window.removeEventListener("message",this.messageHandler),this.iFrame){u.getHostElement(this.options.iFrameOptions.hostElementSelector).innerHTML="",this.isReady=!1,this.iFrame=null,this.options=null}}sendMessage(t,e){const{type:n}=t;if(n!==a.SYNC&&!this.isReady)return void console.warn("iFrame not initialized to send a message",t);let{messageId:o}=t;o||(o=u.createMessageId(this.instanceId),e&&(this.callbacks[o]=e));const r=Object.assign({},t,{messageId:o});this.logDebugMessage("postMessage",n,t),this.destinationWindow.postMessage(r,this.destinationHost)}onMessage(t){const{data:e,origin:n}=t,{type:o}=t.data;if(o===a.SYNC){if(!this.isReady){this.isReady=!0;const e=Object.assign({},t.data,{type:a.SYNC_ACK,debugMode:this.debugMode,version:s,iFrameUrl:u.extractHostFromUrl(window.location.href)}),{hostUrl:n}=t.data;this.destinationHost=n||this.destinationHost,this.sendMessage(e),this.onReady()}return}if(this.destinationHost!==n)return;if(o===a.SET_WIDGET_URL){const{iFrameUrl:t}=e;return void(this.destinationHost=t||this.destinationHost)}const{messageId:r}=e;if(r&&o)if(this.logDebugMessage("onMessage",o,{data:e}),this.instanceRegexp.test(r)){const t=this.callbacks[r];t&&(t(e),delete this.callbacks[r])}else this.onMessageHandler(e)}sendSync(){Date.now()-this.firstSyncSent>3e4?this.onMessageHandler({type:a.SYNC_ACK_FAILED}):(this.sendMessage({type:a.SYNC,hostUrl:u.extractHostFromUrl(window.location.href)},t=>{const{iFrameUrl:e}=t;this.destinationHost=e||this.destinationHost,this.onReady(),this.debugMode=t&&t.debugMode}),window.setTimeout(()=>{this.iFrame&&!this.isReady&&this.sendSync()},100))}logDebugMessage(...t){if(this.debugMode){const e=this.isIFrameHost?"IFrame host":"IFrame";t.unshift(e),console.log.call(null,t)}}}var l=u;var d=class{constructor(t){if(!t||!t.eventHandlers)throw new Error("Invalid options or missing eventHandlers.");this.options=t,this.iFrameManager=new l({debugMode:t.debugMode,onMessageHandler:t=>this.onMessageHandler(t)})}initialized(t){this.sendMessage({type:a.INITIALIZED,data:t})}userLoggedIn(){this.sendMessage({type:a.LOGGED_IN})}userLoggedOut(){this.sendMessage({type:a.LOGGED_OUT})}incomingCall(t){this.sendMessage({type:a.INCOMING_CALL,data:t})}outgoingCall(t){this.sendMessage({type:a.OUTGOING_CALL_STARTED,data:t})}callAnswered(){this.sendMessage({type:a.CALL_ANSWERED})}callData(t){this.sendMessage({type:a.CALL_DATA,data:t})}callEnded(t){this.sendMessage({type:a.CALL_ENDED,data:t})}callCompleted(t){this.sendMessage({type:a.CALL_COMPLETED,data:t})}sendError(t){this.sendMessage({type:a.ERROR,data:t})}resizeWidget(t){this.sendMessage({type:a.RESIZE_WIDGET,data:t})}sendMessage(t){this.iFrameManager.sendMessage(t)}onMessageHandler(t){const{type:e,data:n}=t,{eventHandlers:o}=this.options;let r;switch(e){case a.READY:{const{onReady:t}=o;r=t;break}case a.DIAL_NUMBER:{const{onDialNumber:t}=o;r=t;break}case a.END_CALL:{const{onEndCall:t}=o;r=t;break}case a.VISIBILITY_CHANGED:{const{onVisibilityChanged:t}=o;r=t;break}case a.SET_CALL_STATE:{const{onSetCallState:t}=o;r=t;break}default:this.sendMessage({type:a.ERROR,data:{type:c.UNKNOWN_MESSAGE_TYPE,data:{originalMessage:t}}})}(r=r||o.defaultEventHandler)?r(n,t):console.error(`No event handler is available to handle message of type: ${e}`)}},p=n(13),h=n.n(p);const f="ringcentral-hubspot-ext:",g=t=>((t,e=(t=>t))=>e(window.localStorage.getItem(f+t)))(t,JSON.parse),y=(t,e)=>{window.localStorage.setItem(f+t,h()(e)?e:JSON.stringify(e))},v={apiServerHS:"https://api.hubapi.com",clientIDHS:"9454d5c6-2cd0-4380-964b-506b87d469ff",clientSecretHS:"1a26e06a-5163-4e43-83c0-74020858b27e",appRedirectHS:"https://ringcentral.github.io/ringcentral-integration-for-hubspot/redirect.html",serviceName:"RingCentralIntegrationForHubspot"},_=encodeURIComponent(v.appRedirectHS);var b=n(14),m=n.n(b),E=n(15),w=n.n(E),x=n(10),I=n.n(x),O=t=>{try{return JSON.parse(t)}catch(e){return console.log(e.stack),t}};function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}const L={Accept:"application/json","Content-Type":"application/json"};function M(t){return-1!==(t.headers.get("content-type")||"").toLowerCase().indexOf("application/json")?t.json():t.text()}async function A(t){console.log(t);let e=I()(t.text)?await t.text():w()(t)?JSON.stringify(t):t;console.log(e,"err info");try{e=O(e).error||e}catch(t){console.log("not a json error")}console.log(e)}class C{static get(t,e){return C.connect(t,"get",null,e)}static post(t,e,n){return C.connect(t,"post",e,n)}static delete(t,e,n){return C.connect(t,"delete",e,n)}static put(t,e,n){return C.connect(t,"put",e,n)}static patch(t,e,n){return C.connect(t,"patch",e,n)}static connect(t,e,n,o={}){const r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({method:e,body:n?JSON.stringify(n):void 0,headers:L,timeout:18e4},o);return window.fetch(t,r).then(t=>{if(t.status>304)throw t;return t}).then(o.handleResponse||M,o.handleErr||A)}}const j="key",{clientIDHS:D,clientSecretHS:N,apiServerHS:H}=v,T=`https://app.hubspot.com/oauth/authorize?client_id=${D}&scope=contacts%20timeline%20oauth%20integration-sync&redirect_uri=${_}`,R=()=>g(j);function F(t){document.getElementById("rc-auth-hs").classList[t?"add":"remove"]("rc-hide-to-side")}async function k(t=R()||{},e=!1){const{refreshToken:n}=t;n&&(e&&F(!0),await P({refresh_token:n}),e&&F(!1))}async function P({code:t,refreshToken:e}){const n=`${H}/oauth/v1/token`,o=(t?"grant_type=authorization_code":"grant_type=refresh_token")+`&client_id=${D}&`+`client_secret=${N}&`+`redirect_uri=${_}&`+(t?`code=${t}`:`refresh_token=${e}`),r=await C.post(n,o,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},body:o});if(r&&r.access_token){const t=.8*r.expires_in+ +new Date;y(j,{accessToken:r.access_token,refreshToken:r.refresh_token,expire:t}),setTimeout(k,Math.floor(.8*r.expires_in))}else console.log("get token failed"),console.log(r)}function G(t){console.log("waitForAuthCode",t.data);const{data:e}=t;e&&e.hsAuthCode&&(P({code:e.hsAuthCode}),document.getElementById("rc-auth-hs").classList.add("rc-hide-to-side"))}var $=()=>{const t=R();t?function(t){return+new Date>t.expire}(t)&&k(t,!0):(window.addEventListener("message",G),document.getElementById("rc-login").addEventListener("click",(function(){window.open(T,"_blank","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=300,height=528,right=20,bottom=20")})),document.getElementById("rc-auth-hs").classList.remove("rc-hide-to-side"))};const z={};function U(t,e=!0){Y({type:"rc-adapter-syncMinimized",minimized:!1}),Y({type:"rc-adapter-new-call",phoneNumber:t,toCall:e})}function Y(t){const e=document.getElementById("rc-widget-adapter-frame");e&&e.contentWindow.postMessage(t,"*")}console.log(v.serviceName,"0.3.0"),window.addEventListener("message",(function(t){const{data:e}=t;if(console.log(e,"data"),!e)return;const{cti:n}=z,o=function(t){return"Outbound"===r()(t,"call.direction")?{phoneNumber:r()(t,"call.to.phoneNumber")||r()(t,"call.to")}:{phoneNumber:r()(t,"call.from.phoneNumber")||r()(t,"call.from")}}(e);switch(e.type){case"INITIALIZED":case"rc-login-status-notify":z.loggedIn=e.loggedIn,console.log(e.loggedIn,"data.loggedIn"),e.loggedIn?n&&n.userLoggedIn():n&&n.userLoggedOut();break;case"rc-call-ring-notify":n&&n.incomingCall(o);break;case"rc-call-init-notify":n&&n.outgoingCall(o);break;case"rc-call-start-notify":n&&n.callAnswered(o);break;case"rc-call-hold-notify":case"rc-call-resume-notify":console.log(e.call);break;case"rc-call-end-notify":n&&n.callEnded(o)}})),window.addEventListener("load",(function(){$(),z.cti=new d({debugMode:!1,eventHandlers:{onReady:()=>{console.log("ready"),console.log("glob.loggedIn",z.loggedIn),z.cti.initialized({isLoggedIn:z.loggedIn||!1,sizeInfo:{height:528,width:300}}),z.loggedIn&&z.cti.userLoggedIn()},onDialNumber:t=>{console.log(t,"onDialNumber");const{phone_number:e}=t;U(e)},onVisibilityChanged:t=>{console.log(t,"visible change")},defaultEventHandler:t=>{console.log(t)}}})}))}]);